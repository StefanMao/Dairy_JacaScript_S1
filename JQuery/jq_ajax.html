<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script src="JQuery3.4.1.js"></script>
	<script >
			
			(function () {

			function first(){

				var def = $.Deferred()
				console.log(1)

				def.resolve()

				return def.promise()
			}
			function second(){

				var def =$.Deferred()

				$.ajax({

					url:'https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=5a0e5fbb-72f8-41c6-908e-2fb25eff9b8a',
					type:'get',
					datatype:'json',
					data:{}
					
				}).then(function(res){
					console.log(res)
				},function(err){
					console.log(err)
				})

				def.resolve('I am Nothing 2')

				return def.promise()

			}
			
			function third(){

				var def =$.Deferred()

				console.log(3)

				def.resolve()
				return def.promise()
			}
			
			first().then(second).then(third).then(function (){
				console.log('ok')	
			},function (err){
				console.log('Err:',err)
			})
			})()






	</script>

</body>
</html>